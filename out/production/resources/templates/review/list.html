<!--<!doctype html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<html lang="utf-8">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport"-->
<!--          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">-->
<!--    <meta http-equiv="X-UA-Compatible" content="ie=edge">-->
<!--    <link rel="stylesheet" th:href="@{/css/board.css}"/>-->
<!--    <title>Document</title>-->

<!--</head>-->
<!--<body>-->
<!--<div class="container">-->
<!--    <h2>게시판 목록</h2>-->
<!--    <table class="board_list">-->
<!--        <colgroup>-->
<!--            <col width="15%"/>-->
<!--            <col width="*"/>-->
<!--            <col width="15%"/>-->
<!--            <col width="20%"/>-->
<!--        </colgroup>-->
<!--        <thead>-->
<!--        <tr>-->
<!--            <th scope="col">글번호</th>-->
<!--            <th scope="col">제품번호</th>-->
<!--            <th scope="col">작성자</th>-->
<!--            <th scope="col">제목</th>-->
<!--            <th scope="col">별점</th>-->
<!--            <th scope="col">작성일</th>-->
<!--            <th scope="col">조회수</th>-->
<!--        </tr>-->
<!--        </thead>-->
<!--        <tbody>-->
<!--&lt;!&ndash;        <tr th:if="${#lists.size(list)}>0" th:each="list:${list}" th:onclick="'goToDetailView(this);'" th:data-id="${list.reviewId}">&ndash;&gt;-->
<!--&lt;!&ndash;        <tr th:if="${#lists.size(list)}>0" th:each="list:${list}" th:onclick="goToDetailView(${list.reviewId})" th:data-id="${list.reviewId}">&ndash;&gt;-->
<!--        <tr th:if="${#lists.size(list)}>0" th:each="list:${list}" th:class="move_link" th:data-id="${list.reviewId}">-->
<!--            <td th:text="${list.reviewId}"></td>-->
<!--            <td th:text="${list.productsId}"></td>-->
<!--            <td th:text="${list.reviewWritter}"></td>-->
<!--            <td th:text="${list.reviewTitle}"></td>-->
<!--            <td th:text="${list.reviewStar}"></td>-->
<!--            <td th:text="${list.reviewDate}"></td>-->
<!--            <td th:text="${list.reviewHit}"></td>-->
<!--        </tr>-->
<!--        <tr th:unless="${#lists.size(list)} > 0">-->
<!--            <td colspan="7">조회된 결과가 없습니다.</td>-->
<!--        </tr>-->
<!--        </tbody>-->
<!--    </table>-->
<!--    <div class="div_page">-->
<!--        <ul>-->
<!--            <th:block th:if="${pageMaker.prev}">-->
<!--                <li class="paginate_button">-->
<!--                    &lt;!&ndash; 시작페이지 -1 하면 이전의 10개 페이지 표시 &ndash;&gt;-->
<!--                    <a th:href="@{${pageMaker.startPage - 1}}">-->
<!--                        [Previous]-->
<!--                    </a>-->
<!--                </li>-->
<!--            </th:block>-->
<!--            <th:block th:each="num : ${#numbers.sequence(pageMaker.startPage, pageMaker.endPage)}">-->
<!--                <li class="paginate_button" th:classappend="${pageMaker.cri.pageNum == num} ? 'active' : ''">-->
<!--                    &lt;!&ndash; 현재페이지는 배경색 노란색으로 표시 &ndash;&gt;-->
<!--                    <a th:href="@{${num}}" onclick="goToPage(${num}); return false;">-->
<!--                        [[${num}]]-->
<!--                    </a>-->
<!--                </li>-->
<!--            </th:block>-->
<!--            <th:block th:if="${pageMaker.next}">-->
<!--                <li class="paginate_button">-->
<!--                    &lt;!&ndash; 끝페이지 +1 하면 이후의 10개 페이지 표시 &ndash;&gt;-->
<!--                    <a th:href="@{${pageMaker.endPage + 1}}">-->
<!--                        [Next]-->
<!--                    </a>-->
<!--                </li>-->
<!--            </th:block>-->
<!--        </ul>-->
<!--    </div>-->
<!--    <form method="get" id="actionForm" th:action="@{/list}">-->
<!--        <input type="hidden" name="pageNum" th:value="${pageMaker.cri.pageNum}">-->
<!--        <input type="hidden" name="amount" th:value="${pageMaker.cri.amount}">-->
<!--    </form>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>-->
<!--<script>-->
<!--    var actionForm = $("#actionForm");-->
<!--    // 페이지 번호 처리-->
<!--    $(".paginate_button a").on("click", function (e) {-->
<!--        // 기본 동작 막음: 페이지 링크를 통해서 이동-->
<!--        e.preventDefault();-->
<!--        // console.log("click~!!!!");-->
<!--        console.log("@# href=====>" + $(this).attr("href"));-->
<!--        actionForm.find("input[name='pageNum']").val($(this).attr("href"));-->
<!--        actionForm.submit();-->
<!--    });-->
<!--    // 게시글 처리-->
<!--    $(".move_link").on("click", function (e) {-->
<!--        e.preventDefault();-->
<!--        var targetBno = $(this).attr("href");-->
<!--        actionForm.append("<input type='hidden' name='bid' value='" + targetBno + "'>");-->
<!--        actionForm.attr("action", "content_view").submit();-->
<!--    });-->
<!--</script>-->
<!--<script>-->
<!--    function goToDetailView(element) {-->
<!--        var reviewId = element.getAttribute("data-id");-->
<!--        window.location.href = "/review/content_view?reviewId=" + reviewId;-->
<!--    }-->
<!--</script>-->
<!--<script>-->
<!--    function goToPage(pageNum) {-->
<!--        actionForm.find("input[name='pageNum']").val(pageNum);-->
<!--        actionForm.submit();-->
<!--    }-->
<!--</script>-->



<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="utf-8">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" th:href="@{/css/board.css}"/>
    <title>Document</title>
</head>
<body>
<div class="container">
    <h2>게시판 목록</h2>
    <table class="board_list">
                <colgroup>
                    <col width="15%"/>
                    <col width="*"/>
                    <col width="15%"/>
                    <col width="20%"/>
                </colgroup>
                <thead>
                <tr>
                    <th scope="col">글번호</th>
                    <th scope="col">제품번호</th>
                    <th scope="col">작성자</th>
                    <th scope="col">제목</th>
                    <th scope="col">별점</th>
                    <th scope="col">작성일</th>
                    <th scope="col">조회수</th>
                </tr>
                </thead>
        <tbody>
        <tr th:each="list:${list}" th:if="${list != null}" class="move_link" th:data-id="${list.reviewId}">
            <td th:text="${list.reviewId}"></td>
            <td th:text="${list.productsId}"></td>
            <td th:text="${list.reviewWritter}"></td>
            <td th:text="${list.reviewTitle}"></td>
            <td th:text="${list.reviewStar}"></td>
            <td th:text="${list.reviewDate}"></td>
            <td th:text="${list.reviewHit}"></td>
        </tr>
        <tr th:unless="${#lists.size(list)} > 0">
            <td colspan="7">조회된 결과가 없습니다.</td>
        </tr>
        </tbody>
    </table>
    <div class="dataTables_info" id="dataTable_info" role="status" aria-live="polite">
        showing <span th:text="${pageMaker.getCri().getPageNum()}"></span> to <span th:text="${pageMaker.getCri().getAmount()}"></span> of <span th:text="${pageMaker.getTotal()}"></span> entries
    </div>

        <div class="div_page">
            <ul class="pagination">
                <li th:if="${pageMaker.prev}" class="paginate_button page-link" id="dataTable_previous">
                    <a th:href="@{'/page/'+${pageMaker.startPage -1}}" aria-controls="dataTable" data-dt-idx="0" tabindex="0">
                        Previous
                    </a>
                </li>
                <li class="paginate_button page-link" th:each="num : ${#numbers.sequence(pageMaker.startPage, pageMaker.endPage)}">
                    <a th:href="${num}" th:text="${num}">
                    </a>
                </li>
                <li th:if="${pageMaker.next}" class="paginate_button page-item next page-link" id="dataTable_next">
                    <a th:href="@{${pageMaker.endPage + 1}}" th:text="'Next'" aria-controls="dataTable" data-dt-idx="7" tabindex="0">
                    </a>
                </li>
            </ul>
        </div>
<!--        <form method="get" id="actionForm" th:action="@{/list}">-->
        <form method="get" id="actionForm" th:action="@{/review/list}">
            <input type="hidden" name="pageNum" th:value="${pageMaker.cri.pageNum}">
            <input type="hidden" name="amount" th:value="${pageMaker.cri.amount}">
        </form>
        </div>
</body>
</html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    var actionForm = $("#actionForm");

    ////////////////////페이지 번호 처리////////////////
    $(".paginate_button a").on("click", function (e) {
        e.preventDefault();
        actionForm.find("input[name='pageNum']").val($(this).attr("href"));
        actionForm.submit();
    });
    ///////////////////게시글 처리////////////////////
    $(".move_link").on("click", function (e) {
        e.preventDefault();
        var reviewId = $(this).attr("data-id");
        actionForm.append("<input type='hidden' name='reviewId' value='" + reviewId + "'>");
        actionForm.attr("action", "/review/content_view").submit();
    });
</script>
