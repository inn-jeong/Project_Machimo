<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.project_machimo.shop.Dao.ShopDao">



<!--    <select id="allItemView" resultType="com.example.project_machimo.shop.Dto.ProductDto">-->
<!--        select * from products order by p_created_at desc-->
<!--    </select>-->
    <select id="allItemView" resultType="com.example.project_machimo.shop.Dto.ProductDto">
        select * from products order by p_created_at desc
    </select>
    <select id="findNickName" resultType="com.example.project_machimo.shop.Dto.UsersDto">
        select u_nickname,user_id from users where user_id = #{user_id}
<!--        select u_nickName,user_id from users-->
    </select>
    <select id="viewImage" resultType="com.example.project_machimo.shop.Dto.ImgDto">
        select i_sub_img,product_id from product_images where product_id = #{product_id}
<!--        select i_id,i_sub_img,product_id from product_images-->
    </select>

    <select id="wishLike" resultType="com.example.project_machimo.shop.Dto.WishlistDto">
        select wish_like,product_id from wishlists where product_id = #{product_id}
        <!--        select i_id,i_sub_img,product_id from product_images-->
    </select>

    <select id="getProductsByCategoryId" resultType="com.example.project_machimo.shop.Dto.ProductDto">
        select * from products where c_id2 = #{c_id2}
    </select>
    <select id="getCategories" resultType="com.example.project_machimo.shop.Dto.CategoryDto">
        select c_id, c_name, c_id2 from category where c_id2 is null
    </select>
    <select id="getSubCategories" resultType="com.example.project_machimo.shop.Dto.CategoryDto">
        select c_id, c_name, c_id2
        from category
        where c_id2 = #{c_id2}
    </select>
</mapper>